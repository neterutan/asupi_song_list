<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>あすぴのうたカフェ</title>
<link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru:wght@500&amp;display=swap" rel="stylesheet"/>
<style>
    body {
      font-family: 'Kiwi Maru', cursive;
      background-color: #f6fff6;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      font-size: 26px;
      color: #e91e63;
    }
    .intro {
      font-size: 14px;
      text-align: center;
      margin-bottom: 10px;
    }
    a img {
      border: none;
      text-decoration: none;
    }
    .search-box {
      text-align: center;
      margin: 30px 0 15px;
    }
    .search-input, .search-select {
      padding: 8px;
      font-size: 14px;
      margin-right: 5px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .search-button {
      padding: 8px 14px;
      font-size: 14px;
      background-color: #ff80ab;
      color: white;
      border: none;
      border-radius: 20px;
      margin-right: 5px;
    }
    .clear-button {
      background-color: #aaa;
    }
    .no-result {
      text-align: center;
      color: #e91e63;
      font-family: 'Kiwi Maru', cursive;
      margin-top: 10px;
      display: none;
    }
    .song-card {
      border-radius: 16px;
      padding: 16px;
      margin: 0 auto 16px;
      max-width: 800px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .song-title {
      font-size: 14px;
      font-weight: bold;
      color: navy;
    }
    .song-artist {
      font-size: 12.5px;
      color: #666;
      margin-top: 4px;
    }
    .pop-button {
      background-color: #ff80ab;
      color: white;
      border: none;
      border-radius: 20px;
      padding: 8px 16px;
      font-size: 14px;
    }
  
    .intro-board {
      background-color: #ffffff;
      border: 2px solid #ff80ab;
      border-radius: 14px;
      box-shadow: 3px 3px 6px rgba(255,128,171,0.3);
      padding: 16px;
      font-family: 'Kiwi Maru', cursive;
      color: #5a3e1b;
      text-align: center;
      font-size: 13px;
    }
    .sns-icon {
      width: 40px;
      height: 40px;
      margin: 10px 10px 0;
      vertical-align: middle;
      border-radius: 10px;
    }
    .song-card {
      border-radius: 16px;
      padding: 12px;
      margin: 0 auto 12px;
      max-width: 1000px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .song-title {
      font-size: 14px;
      font-weight: normal;
      color: navy;
      word-break: break-word;
      white-space: normal;
      margin-bottom: 2px;
    }
    .song-artist {
      font-size: 12.5px;
      color: #666;
      margin-top: 2px;
    }


    .usage-guide {
      font-size: 13px;
      line-height: 1.6;
      margin: 20px auto 10px;
      padding: 10px;
      max-width: 600px;
      background-color: #ffffff;
      border-left: 4px solid #ff80ab;
      color: #444;
      font-family: 'Kiwi Maru', cursive;
    }


.search-box {
  position: sticky;
  top: 0;
  background-color: #f6fff6;
  z-index: 1000;
  padding: 10px 0;
  border-bottom: 1px solid #ffd1e0;
}

.song-card.selected {
  outline: 3px solid #ff80ab;
  background-color: #ffe4ec !important;
  transition: background-color 0.3s, outline 0.3s;
  cursor: pointer;
}
.song-card {
  cursor: pointer;
}

.fixed-asupi {
  position: fixed;
  top: 10px;
  right: 10px;
  width: 80px;
  z-index: 2000;
  pointer-events: none;
}

.usage-item {
  text-indent: -1em;
  padding-left: 1em;
  margin: 6px 0;
}
</style>
</head>
<body><div style="text-align:center; margin-bottom: 10px;"><img alt="あすぴのうたカフェバナー" src="1747739161362.png" style="max-width:100%; height:auto;"/></div>
<div class="intro-board">
<p>滋賀県出身の歌ライバーASUPI👼🌷です！<br/>
    ボイトレに通いながら日々精進中🎤<br/><br/>
    オリジナルソングも各サブスクで配信してます🎶<br/>
    ◇エトワール<br/>
    ◇one more time<br/>
    ◇voice</p>
<div>
<a href="https://x.com/ASUPI10211" target="_blank"><img alt="X" class="sns-icon" src="1747128220529.png"/></a>
<a href="https://www.instagram.com/asupisong" target="_blank"><img alt="Instagram" class="sns-icon" src="1747128258444.png"/></a>
<a href="https://www.tunecore.co.jp/artists/asupi" target="_blank"><img alt="TuneCore" class="sns-icon" src="1747216342191.png"/></a>
</div>
</div>
<div class="usage-guide">
<strong>［使用方法］</strong>
<p class="usage-item">・検索項目「曲名 / 歌手名」を選択し、キーワードを入力してください。</p>
<p class="usage-item">・検索後にクリアを押すと全リストが表示されます。</p>
<p class="usage-item">・各曲のカードを選択し［リクエスト］を押すと曲名/歌手名がコピーされます。コメント欄に貼付けて下さい。</p>
<p class="usage-item">・選択解除はカードを再度タップか［クリア］を押してください。</p>
<p class="usage-item">・リストに載っていてもサビだけや忘れちゃった･･･などあるかもしれませんが、そこはご愛嬌で😳</p>
</div>
<div class="search-box">
<select class="search-select" id="searchType">
<option value="title">曲名</option>
<option value="artist">歌手名</option>
</select>
<input class="search-input" id="searchInput" placeholder="検索キーワードを入力" type="text"/>
<button class="search-button" onclick="filterByType()">検索</button>
<button class="search-button clear-button" onclick="clearSearch()">クリア</button>
<button class="search-button request-fixed-button" onclick="copySelectedRequests()">リクエスト</button></div>
<div class="no-result" id="noResultMessage">該当がありません‎( i 𖥦 i )</div>
<div id="songList"></div>
<script>
function copySelectedRequests() {
  const checked = document.querySelectorAll('.song-check:checked');
  if (checked.length === 0) {
    alert("曲を選択してください");
    return;
  }
  let lines = [];
  checked.forEach(box => {
    const card = box.closest('.song-card');
    const title = card.querySelector('.song-title').innerText.trim();
    const artist = card.querySelector('.song-artist').innerText.trim();
    lines.push(`【ﾘｸｴｽﾄ】${title} / ${artist}　をお願いします♪`);
  });
  const text = lines.join('\n');
  navigator.clipboard.writeText(text).then(() => {
    alert("リクエスト内容をコピーしました♪");
  });
}
</script><script>
document.addEventListener('DOMContentLoaded', function () {
  let selectedCard = null;

  document.querySelectorAll('.song-card').forEach(card => {
    card.addEventListener('click', () => {
      if (selectedCard === card) {
        card.classList.remove('selected');
        selectedCard = null;
      } else {
        if (selectedCard) selectedCard.classList.remove('selected');
        selectedCard = card;
        card.classList.add('selected');
      }
    });
  });

  window.copySelectedRequests = function () {
    if (!selectedCard) {
      alert("曲を選択してください");
      return;
    }
    const title = selectedCard.querySelector('.song-title').innerText.trim();
    const artist = selectedCard.querySelector('.song-artist').innerText.trim();
    const text = `【ﾘｸｴｽﾄ】${title} / ${artist}　をお願いします♪`;
    navigator.clipboard.writeText(text).then(() => {
      alert("リクエスト内容をコピーしました♪");
    });
  };

  window.filterByType = function () {
    const type = document.getElementById("searchType").value;
    const keyword = document.getElementById("searchInput").value.trim().toLowerCase();
    const cards = document.querySelectorAll(".song-card");
    let found = false;

    cards.forEach(card => {
      const target = card.querySelector(type === "title" ? ".song-title" : ".song-artist").innerText.toLowerCase();
      if (target.includes(keyword)) {
        card.style.display = "flex";
        found = true;
      } else {
        card.style.display = "none";
      }
    });

    document.getElementById("noResultMessage").style.display = found ? "none" : "block";
  };

  window.clearSearch = function () {
    document.getElementById("searchInput").value = "";
    document.getElementById("searchType").value = "title";
    const cards = document.querySelectorAll(".song-card");
    cards.forEach(card => card.style.display = "flex");
    document.getElementById("noResultMessage").style.display = "none";

    if (selectedCard) {
      selectedCard.classList.remove("selected");
      selectedCard = null;
    }
  };
});
</script>
<div id="copyMessage" style="display:none; position:fixed; bottom:30px; left:50%; transform:translateX(-50%);
background-color:#ff80ab; color:white; padding:10px 20px; border-radius:20px; font-size:14px; z-index:3000;
box-shadow:0 4px 8px rgba(0,0,0,0.2); font-family:'Kiwi Maru', cursive;">
  【ﾘｸｴｽﾄ】曲名 / 歌手名　をお願いします♪
</div>
<script>
function copySelectedRequests() {
  const selectedCards = document.querySelectorAll('.song-card.selected');
  if (selectedCards.length === 0) return;

  let textToCopy = '';
  selectedCards.forEach(card => {
    const title = card.querySelector('.song-title').innerText.replace(/\s+/g, ' ');
    const artist = card.querySelector('.song-artist').innerText.replace(/\s+/g, ' ');
    textToCopy += `【ﾘｸｴｽﾄ】${title} / ${artist}\n`;
  });

  navigator.clipboard.writeText(textToCopy.trim()).then(() => {
    showCopyMessage();
  });
}

function showCopyMessage() {
  const msgBox = document.getElementById('copyMessage');
  msgBox.style.display = 'block';
  setTimeout(() => {
    msgBox.style.display = 'none';
  }, 2000);
}
</script>
<script>
async function loadSongs() {
  const response = await fetch("https://script.google.com/macros/s/AKfycbyE23E6BYKB163lg-FeimJzsh66JgDpYG4ULM1nhg44Sumceu6cY2GF2J8KohllVsvQ-Q/exec");
  const songs = await response.json();
  const songList = document.getElementById("songList");
  songList.innerHTML = "";

  songs.forEach((song, index) => {
    const card = document.createElement("div");
    card.className = "song-card";
    card.style.backgroundColor = index % 2 === 0 ? "#e3fce3" : "#fffbe3";
    card.innerHTML = `
      <div>
        <div class="song-title">${song.title}</div>
        <div class="song-artist">${song.artist}</div>
      </div>
    `;
    songList.appendChild(card);
  });
}
window.addEventListener("DOMContentLoaded", loadSongs);
</script></body>
</html>
